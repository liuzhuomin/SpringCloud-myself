package liuzhuomin.cloud.config;

import com.google.common.base.Predicate;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Import;
import springfox.documentation.RequestHandler;
import springfox.documentation.builders.PathSelectors;
import springfox.documentation.builders.RequestHandlerSelectors;
import springfox.documentation.service.ApiInfo;
import springfox.documentation.spring.web.plugins.Docket;

import java.net.UnknownHostException;


@Configuration
@Import(BaseSwaggerConfig.class)
public class SwaggerConfig {

    @Autowired
    BaseSwaggerConfig baseSwaggerConfig;

    /**
     * 载体相关文档
     * @return {@link Docket}
     * @throws UnknownHostException
     */
    @Bean
    public Docket carrierApi() throws UnknownHostException {
        return baseSwaggerConfig.create( new SwaggerApiInfo().groupName("载体相关文档").title("载体备案接口").creator("JHY")
                .description("用于载体备案").scannerPath(RequestHandlerSelectors.any())
                .filterUrl(PathSelectors.ant("/carrier/**")));
    }

    /**
     * 活动通知相关文档
     * @return {@link Docket}
     * @throws UnknownHostException
     */
    @Bean
    public Docket noticeApi() throws UnknownHostException {
        return baseSwaggerConfig.create( new SwaggerApiInfo().groupName("活动通知相关文档").title("活动通知接口").creator("LMS")
                .description("用于活动通知").scannerPath(RequestHandlerSelectors.any())
                .filterUrl(PathSelectors.ant("/notice/**")));
    }

    /**
     * 项目入驻相关文档
     * @return {@link Docket}
     * @throws UnknownHostException
     */
    @Bean
    public Docket projectInApi() throws UnknownHostException {
        return baseSwaggerConfig.create( new SwaggerApiInfo().groupName("项目入驻相关文档").title("项目入驻通知接口").creator("LP")
                .description("用于项目入驻").scannerPath(RequestHandlerSelectors.any())
                .filterUrl(PathSelectors.ant("/projectIn/**")));
    }

}

