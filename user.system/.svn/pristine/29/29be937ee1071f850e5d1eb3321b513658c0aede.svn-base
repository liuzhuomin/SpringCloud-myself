package xinrui.cloud.domain;

import javax.persistence.*;
import javax.validation.constraints.NotNull;
import java.util.Date;
import java.util.List;

/**
 * 科技金融实体类
 *
 * @author liuliuliu
 * @version 1.0
 * @date 2019/8/5 16:26
 */
@Entity
public class TechnologyFinancial extends IdEntity {

    /**
     * 科技金融产品名称
     */
    @NotNull
    @Column(columnDefinition = "text")
    private String name;

    /**
     * 展示的图片
     */
    @OneToMany(fetch = FetchType.LAZY, orphanRemoval = true, targetEntity = TechnologyApplyCondition.class)
    @OrderBy("createDate asc ")
    private List<TechnologyFinancialFile> viewImages;

    /**
     * 科技金融类别
     * 只可能为 信用贷/抵押贷
     */
    @NotNull
    private String category = TechnologyType.CREDIT_LOAN.value();

    /**
     * 产品标语
     */
    private String slogan;

    /**
     * 产品简介信息
     */
    @Column(columnDefinition = "text")
    private String infomation;

    /**
     * 贷款期限
     * {@link TechnologyLoanDate}
     */
    @OneToOne(fetch = FetchType.LAZY)
    private TechnologyLoanDate loanTimeLimit;

    /**
     * 申请结束时间
     */
    @Temporal(TemporalType.TIMESTAMP)
    private Date applyEndDate;

    /**
     * 贷款额度对象
     * {@link TechnologyLoanDate}
     */
    @OneToOne(fetch = FetchType.LAZY)
    private TechnologyLoanAmount loanAmount;

    /***
     * 申请条件对象集合
     * {@link TechnologyApplyCondition}
     */
    @OneToMany(fetch = FetchType.LAZY, orphanRemoval = true, targetEntity = TechnologyApplyCondition.class)
    @OrderBy("id asc ")
    private List<TechnologyApplyCondition> technologyApplyConditions;

    /**
     * 创建时间
     */
    @Temporal(TemporalType.TIMESTAMP)
    private Date createDate;


    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public List<TechnologyFinancialFile> getViewImages() {
        return viewImages;
    }

    public void setViewImages(List<TechnologyFinancialFile> viewImages) {
        this.viewImages = viewImages;
    }

    public String getCategory() {
        return category;
    }

    public void setCategory(String category) {
        this.category = category;
    }

    public String getSlogan() {
        return slogan;
    }

    public void setSlogan(String slogan) {
        this.slogan = slogan;
    }

    public String getInfomation() {
        return infomation;
    }

    public void setInfomation(String infomation) {
        this.infomation = infomation;
    }

    public TechnologyLoanDate getLoanTimeLimit() {
        return loanTimeLimit;
    }

    public void setLoanTimeLimit(TechnologyLoanDate loanTimeLimit) {
        this.loanTimeLimit = loanTimeLimit;
    }

    public Date getApplyEndDate() {
        return applyEndDate;
    }

    public void setApplyEndDate(Date applyEndDate) {
        this.applyEndDate = applyEndDate;
    }

    public TechnologyLoanAmount getLoanAmount() {
        return loanAmount;
    }

    public void setLoanAmount(TechnologyLoanAmount loanAmount) {
        this.loanAmount = loanAmount;
    }

    public List<TechnologyApplyCondition> getTechnologyApplyConditions() {
        return technologyApplyConditions;
    }

    public void setTechnologyApplyConditions(List<TechnologyApplyCondition> technologyApplyConditions) {
        this.technologyApplyConditions = technologyApplyConditions;
    }

    public Date getCreateDate() {
        return createDate;
    }

    public void setCreateDate(Date createDate) {
        this.createDate = createDate;
    }

    enum TechnologyType {
        /**
         * 信用贷
         */
        CREDIT_LOAN("信用贷"),
        /**
         * 抵押贷
         */
        MORTGAGES("抵押贷");

        private String type;

        TechnologyType(String type) {
            this.type = type;
        }

        public String value() {
            return this.type;
        }
    }


}
